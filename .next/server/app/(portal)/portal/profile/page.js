(()=>{var e={};e.id=525,e.ids=[525],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5880:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d}),r(780),r(7734),r(5866),r(6835);var s=r(3191),a=r(8716),l=r(7922),n=r.n(l),o=r(5231),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(t,i);let d=["",{children:["(portal)",{children:["portal",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,780)),"E:\\frontend\\app\\(portal)\\portal\\profile\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,7734)),"E:\\frontend\\app\\(portal)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,6835)),"E:\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["E:\\frontend\\app\\(portal)\\portal\\profile\\page.tsx"],x="/(portal)/portal/profile/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(portal)/portal/profile/page",pathname:"/portal/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7128:(e,t,r)=>{Promise.resolve().then(r.bind(r,165))},6967:(e,t,r)=>{Promise.resolve().then(r.bind(r,9317))},165:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(326),a=r(5047),l=r(434),n=r(7577),o=r(6824),i=r(2948);let d=[{name:"Products",path:"/portal/catalog",icon:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},{name:"Plans",path:"/portal/subscriptions",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"},{name:"Cart",path:"/portal/cart",icon:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 100 4 2 2 0 000-4z"},{name:"Profile",path:"/portal/profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"}];function c({children:e}){let t=(0,a.usePathname)(),r=(0,a.useRouter)(),[c,x]=(0,n.useState)(null),[u,m]=(0,n.useState)(!0);if(!c)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F0EEEF]",children:s.jsx("div",{className:"w-8 h-8 border-3 border-primary/30 border-t-primary rounded-full animate-spin"})});let p=d.find(e=>e.path===t||t.startsWith(e.path+"/"))?.name||"Portal";return s.jsx(i.ToastProvider,{children:(0,s.jsxs)("div",{className:"min-h-screen bg-[#F0EEEF]",children:[(0,s.jsxs)("aside",{className:`fixed top-0 left-0 h-full bg-primary text-white transition-all duration-200 z-50 ${u?"w-56":"w-16"}`,children:[(0,s.jsxs)("div",{className:"h-14 flex items-center justify-between px-4 border-b border-white/15",children:[u&&s.jsx("span",{className:"text-base font-bold tracking-tight",children:"SIDAZ"}),s.jsx("button",{onClick:()=>m(!u),className:"p-1 hover:bg-white/10 rounded transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:u?"M11 19l-7-7 7-7m8 14l-7-7 7-7":"M13 5l7 7-7 7M5 5l7 7-7 7"})})})]}),s.jsx("nav",{className:"py-2 px-2 space-y-0.5 overflow-y-auto",style:{maxHeight:"calc(100vh - 120px)"},children:d.map(e=>(0,s.jsxs)(l.default,{href:e.path,className:`flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors ${t===e.path||t.startsWith(e.path+"/")?"bg-white/20 text-white font-medium":"text-white/75 hover:bg-white/10 hover:text-white"}`,title:u?void 0:e.name,children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:e.icon})}),u&&s.jsx("span",{children:e.name})]},e.path))}),(0,s.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-3 border-t border-white/15",children:[(0,s.jsxs)("div",{className:`flex items-center gap-2 ${!u&&"justify-center"}`,children:[s.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center text-white text-sm font-semibold flex-shrink-0",children:c.name.charAt(0).toUpperCase()}),u&&(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:c.name}),s.jsx("p",{className:"text-xs text-white/60 truncate",children:"PORTAL USER"})]})]}),u&&(0,s.jsxs)("button",{onClick:()=>{(0,o.gy)(),r.push("/login")},className:"mt-2 w-full px-3 py-1.5 text-xs text-white/80 hover:text-white hover:bg-white/10 rounded-md transition-colors text-left flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})]}),(0,s.jsxs)("main",{className:`transition-all duration-200 ${u?"ml-56":"ml-16"}`,children:[(0,s.jsxs)("header",{className:"h-14 bg-white border-b border-gray-200 px-6 flex items-center justify-between sticky top-0 z-40",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:p}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:["Welcome, ",s.jsx("span",{className:"font-medium text-gray-700",children:c.name})]})]}),s.jsx("div",{className:"p-6",children:e})]})]})})}},9317:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(326),a=r(7577),l=r(6824),n=r(1113);function o(){let[e,t]=(0,a.useState)(null),[r,o]=(0,a.useState)([]),[i,d]=(0,a.useState)(!0),[c,x]=(0,a.useState)(!1),[u,m]=(0,a.useState)(!1),[p,h]=(0,a.useState)({name:"",email:"",phone:"",company:""}),[b,g]=(0,a.useState)(null),y=async()=>{m(!0);try{let e=await l.JG.updateProfile(p);t(e),x(!1),g({type:"success",message:"Profile updated successfully!"}),setTimeout(()=>g(null),3e3)}catch(e){g({type:"error",message:"Failed to update profile."}),setTimeout(()=>g(null),3e3)}finally{m(!1)}},f=e=>{switch(e){case"ACTIVE":return"bg-green-100 text-green-700";case"CONFIRMED":return"bg-blue-100 text-blue-700";case"QUOTATION":return"bg-amber-100 text-amber-700";case"DRAFT":default:return"bg-gray-100 text-gray-600";case"CLOSED":return"bg-red-100 text-red-700"}};return i?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx("div",{className:"w-8 h-8 border-3 border-blue-200 border-t-blue-600 rounded-full animate-spin"})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Profile"}),!c&&s.jsx("button",{onClick:()=>x(!0),className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Edit Profile"})]}),b&&s.jsx("div",{className:`px-4 py-3 rounded-lg text-sm ${"success"===b.type?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:b.message}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-6 pb-6 border-b border-gray-100",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center text-xl font-bold",children:(e?.name||"U").charAt(0).toUpperCase()}),(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:e?.name}),s.jsx("p",{className:"text-sm text-gray-500",children:e?.role==="PORTAL_USER"?"Customer":e?.role})]})]}),c?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),s.jsx("input",{type:"text",value:p.name,onChange:e=>h({...p,name:e.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:p.email,disabled:!0,className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 text-sm bg-gray-50 text-gray-500 cursor-not-allowed"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Email cannot be changed"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),s.jsx(n.Z,{value:p.phone,onChange:e=>h({...p,phone:e}),placeholder:"Enter phone number"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),s.jsx("input",{type:"text",value:p.company,onChange:e=>h({...p,company:e.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-gray-200 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Enter company name"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 pt-2",children:[s.jsx("button",{onClick:y,disabled:u,className:"px-5 py-2.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:u?"Saving...":"Save Changes"}),s.jsx("button",{onClick:()=>{x(!1),h({name:e?.name||"",email:e?.email||"",phone:e?.phone||"",company:e?.company||""})},className:"px-5 py-2.5 text-sm text-gray-600 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase",children:"Full Name"}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:e?.name||"—"})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase",children:"Email"}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:e?.email||"—"})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase",children:"Phone"}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:e?.phone||"—"})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase",children:"Company"}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:e?.company||"—"})]})]}),s.jsx("div",{className:"pt-4 border-t border-gray-100",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase",children:"Role"}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:e?.role==="PORTAL_USER"?"Customer":e?.role})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase",children:"Member Since"}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:e?.createdAt?new Date(e.createdAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}):"—"})]})]})})]})]}),(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Current Subscriptions"}),0===r.length?(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center",children:[s.jsx("svg",{className:"w-10 h-10 mx-auto text-gray-300 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),s.jsx("p",{className:"text-sm text-gray-400",children:"No active subscriptions"})]}):s.jsx("div",{className:"space-y-3",children:r.map(e=>s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[s.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:e.subscriptionNumber}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${f(e.status)}`,children:e.status})]}),s.jsx("p",{className:"text-sm text-gray-500",children:e.plan?.name||"Custom plan"}),(0,s.jsxs)("div",{className:"flex items-center gap-4 mt-1 text-xs text-gray-400",children:[(0,s.jsxs)("span",{children:["Start: ",new Date(e.startDate).toLocaleDateString("en-IN")]}),e.expirationDate&&(0,s.jsxs)("span",{children:["Exp: ",new Date(e.expirationDate).toLocaleDateString("en-IN")]})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:["₹",Number(e.recurringTotal).toLocaleString("en-IN")]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["/",e.plan?.billingPeriod?.toLowerCase()||"month"]})]})]})},e.id))})]})]})}},1113:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(326),a=r(7577);let l=[{code:"+91",country:"IN",label:"India"},{code:"+1",country:"US",label:"United States"},{code:"+44",country:"GB",label:"United Kingdom"},{code:"+61",country:"AU",label:"Australia"},{code:"+81",country:"JP",label:"Japan"},{code:"+49",country:"DE",label:"Germany"},{code:"+33",country:"FR",label:"France"},{code:"+86",country:"CN",label:"China"},{code:"+971",country:"AE",label:"UAE"},{code:"+65",country:"SG",label:"Singapore"},{code:"+55",country:"BR",label:"Brazil"},{code:"+7",country:"RU",label:"Russia"},{code:"+82",country:"KR",label:"South Korea"},{code:"+39",country:"IT",label:"Italy"},{code:"+34",country:"ES",label:"Spain"},{code:"+31",country:"NL",label:"Netherlands"},{code:"+46",country:"SE",label:"Sweden"},{code:"+41",country:"CH",label:"Switzerland"},{code:"+62",country:"ID",label:"Indonesia"},{code:"+60",country:"MY",label:"Malaysia"},{code:"+63",country:"PH",label:"Philippines"},{code:"+66",country:"TH",label:"Thailand"},{code:"+90",country:"TR",label:"Turkey"},{code:"+48",country:"PL",label:"Poland"},{code:"+27",country:"ZA",label:"South Africa"},{code:"+234",country:"NG",label:"Nigeria"},{code:"+254",country:"KE",label:"Kenya"},{code:"+92",country:"PK",label:"Pakistan"},{code:"+880",country:"BD",label:"Bangladesh"},{code:"+94",country:"LK",label:"Sri Lanka"}];function n({value:e,onChange:t,placeholder:r="Phone number",className:n="",required:o,disabled:i}){let[d,c]=(0,a.useState)(!1),[x,u]=(0,a.useState)(""),m=(0,a.useRef)(null),p=(()=>{for(let t of l)if(e.startsWith(t.code+" ")||e.startsWith(t.code))return t;return l[0]})(),h=()=>{if(e.startsWith(p.code+" "))return e.slice(p.code.length+1);if(e.startsWith(p.code))return e.slice(p.code.length);for(let t of l)if(e.startsWith(t.code))return e.slice(t.code.length).trimStart();return e},b=e=>{let r=h();t(r?`${e.code} ${r}`:e.code+" "),c(!1),u("")},g=e=>{t(e?`${p.code} ${e}`:"")},y=x?l.filter(e=>e.label.toLowerCase().includes(x.toLowerCase())||e.code.includes(x)||e.country.toLowerCase().includes(x.toLowerCase())):l;return(0,s.jsxs)("div",{className:`flex ${n}`,ref:m,children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>!i&&c(!d),disabled:i,className:"flex items-center gap-1 px-3 py-2.5 border border-r-0 border-gray-200 rounded-l-lg bg-gray-50 text-sm text-gray-700 hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed h-full",children:[s.jsx("span",{className:"font-medium",children:p.code}),s.jsx("svg",{className:`w-3 h-3 text-gray-400 transition-transform ${d?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&(0,s.jsxs)("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-50 overflow-hidden",children:[s.jsx("div",{className:"p-2 border-b border-gray-100",children:s.jsx("input",{type:"text",placeholder:"Search country...",value:x,onChange:e=>u(e.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-200 rounded-md focus:ring-1 focus:ring-blue-500 focus:border-transparent outline-none",autoFocus:!0})}),(0,s.jsxs)("div",{className:"max-h-48 overflow-y-auto",children:[y.map(e=>(0,s.jsxs)("button",{type:"button",onClick:()=>b(e),className:`w-full text-left px-3 py-2 text-sm hover:bg-blue-50 transition-colors flex items-center justify-between ${p.code===e.code?"bg-blue-50 text-blue-700":"text-gray-700"}`,children:[(0,s.jsxs)("span",{children:[e.label," (",e.country,")"]}),s.jsx("span",{className:"text-gray-500 font-mono text-xs",children:e.code})]},e.code+e.country)),0===y.length&&s.jsx("div",{className:"px-3 py-2 text-sm text-gray-400",children:"No results"})]})]})]}),s.jsx("input",{type:"tel",value:h(),onChange:e=>g(e.target.value),placeholder:r,required:o,disabled:i,className:"flex-1 px-4 py-2.5 border border-gray-200 rounded-r-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed"})]})}},7734:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`E:\frontend\app\(portal)\layout.tsx#default`)},780:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`E:\frontend\app\(portal)\portal\profile\page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[697,496,315],()=>r(5880));module.exports=s})();