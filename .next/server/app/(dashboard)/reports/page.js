(()=>{var e={};e.id=960,e.ids=[960],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1e3:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>i}),r(5747),r(8032),r(5866),r(6835);var a=r(3191),s=r(8716),n=r(7922),l=r.n(n),d=r(5231),o={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);r.d(t,o);let i=["",{children:["(dashboard)",{children:["reports",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5747)),"E:\\frontend\\app\\(dashboard)\\reports\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,8032)),"E:\\frontend\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,6835)),"E:\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["E:\\frontend\\app\\(dashboard)\\reports\\page.tsx"],u="/(dashboard)/reports/page",x={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(dashboard)/reports/page",pathname:"/reports",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},5750:(e,t,r)=>{Promise.resolve().then(r.bind(r,1714))},1714:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a=r(326),s=r(7577);r(6824);var n=r(2980),l=r(2948);function d(){let[e,t]=(0,s.useState)("overview"),[r,d]=(0,s.useState)(null),[o,i]=(0,s.useState)(!0),{showToast:c}=(0,l.p)();return(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports"})}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"flex gap-0 -mb-px",children:[{key:"overview",label:"Overview"},{key:"subscriptions",label:"Subscriptions"},{key:"revenue",label:"Revenue"},{key:"payments",label:"Payments"}].map(r=>a.jsx("button",{onClick:()=>t(r.key),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${e===r.key?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:r.label},r.key))})}),o?a.jsx(n.Z,{message:"Loading report..."}):({overview:()=>{if(!r)return null;let e=[{label:"Active Subscriptions",value:r.activeSubscriptions||0,border:"border-l-blue-500"},{label:"Total Revenue",value:`\u20B9${(r.totalRevenue||0).toLocaleString()}`,border:"border-l-emerald-500"},{label:"Pending Revenue",value:`\u20B9${(r.pendingRevenue||0).toLocaleString()}`,border:"border-l-amber-500"},{label:"Overdue Invoices",value:r.overdueInvoices||0,border:"border-l-red-500"},{label:"Total Payments",value:r.totalPayments||0,border:"border-l-indigo-500"}];return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((e,t)=>(0,a.jsxs)("div",{className:`card border-l-4 ${e.border} p-5`,children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:e.label}),a.jsx("p",{className:"mt-1 text-2xl font-bold text-gray-900",children:e.value})]},t))})},subscriptions:()=>{if(!r)return null;let e=Array.isArray(r)?r:r.byStatus||[];return a.jsx("div",{className:"table-container",children:(0,a.jsxs)("table",{className:"data-table",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{children:[a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Count"}),a.jsx("th",{children:"Percentage"})]})}),(0,a.jsxs)("tbody",{children:[e.map((t,r)=>{let s=e.reduce((e,t)=>e+(Number(t.count)||Number(t._count)||0),0),n=Number(t.count)||Number(t._count)||0,l=s>0?(n/s*100).toFixed(1):"0";return(0,a.jsxs)("tr",{children:[a.jsx("td",{className:"font-medium text-gray-900",children:t.status||t.name||"-"}),a.jsx("td",{children:n}),(0,a.jsxs)("td",{children:[l,"%"]})]},r)}),0===e.length&&a.jsx("tr",{children:a.jsx("td",{colSpan:3,className:"text-center py-8 text-gray-500",children:"No subscription data available."})})]})]})})},revenue:()=>{if(!r)return null;let e=Array.isArray(r)?r:r.monthly||[];return a.jsx("div",{className:"table-container",children:(0,a.jsxs)("table",{className:"data-table",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{children:[a.jsx("th",{children:"Period"}),a.jsx("th",{children:"Revenue"}),a.jsx("th",{children:"Invoices"})]})}),(0,a.jsxs)("tbody",{children:[e.map((e,t)=>(0,a.jsxs)("tr",{children:[a.jsx("td",{className:"font-medium text-gray-900",children:e.month||e.period||e.name||"-"}),(0,a.jsxs)("td",{className:"text-emerald-600 font-medium",children:["₹",Number(e.revenue||e.total||e.amount||0).toLocaleString("en-IN")]}),a.jsx("td",{children:e.invoiceCount||e.count||"-"})]},t)),0===e.length&&a.jsx("tr",{children:a.jsx("td",{colSpan:3,className:"text-center py-8 text-gray-500",children:"No revenue data available."})})]})]})})},payments:()=>{if(!r)return null;let e=Array.isArray(r)?r:r.byMethod||[];return a.jsx("div",{className:"table-container",children:(0,a.jsxs)("table",{className:"data-table",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{children:[a.jsx("th",{children:"Payment Method"}),a.jsx("th",{children:"Count"}),a.jsx("th",{children:"Total Amount"})]})}),(0,a.jsxs)("tbody",{children:[e.map((e,t)=>(0,a.jsxs)("tr",{children:[a.jsx("td",{className:"font-medium text-gray-900",children:(e.paymentMethod||e.method||e.name||"-").replace(/_/g," ")}),a.jsx("td",{children:e.count||e._count||0}),(0,a.jsxs)("td",{className:"text-emerald-600 font-medium",children:["₹",Number(e.total||e.amount||e.totalAmount||0).toLocaleString("en-IN")]})]},t)),0===e.length&&a.jsx("tr",{children:a.jsx("td",{colSpan:3,className:"text-center py-8 text-gray-500",children:"No payment data available."})})]})]})})}})[e]()]})}},5747:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`E:\frontend\app\(dashboard)\reports\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[697,496,315,78],()=>r(1e3));module.exports=a})();