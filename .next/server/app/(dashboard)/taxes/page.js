(()=>{var e={};e.id=747,e.ids=[747],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7110:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>c}),s(7846),s(8032),s(5866),s(6835);var a=s(3191),r=s(8716),n=s(7922),l=s.n(n),i=s(5231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let c=["",{children:["(dashboard)",{children:["taxes",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7846)),"E:\\frontend\\app\\(dashboard)\\taxes\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8032)),"E:\\frontend\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,6835)),"E:\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],o=["E:\\frontend\\app\\(dashboard)\\taxes\\page.tsx"],x="/(dashboard)/taxes/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/taxes/page",pathname:"/taxes",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},259:(e,t,s)=>{Promise.resolve().then(s.bind(s,7700))},7700:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(326),r=s(7577),n=s(6824),l=s(3594),i=s(7698),d=s(2980),c=s(2948);function o(){let[e,t]=(0,r.useState)([]),[s,o]=(0,r.useState)(!0),[x,u]=(0,r.useState)(!1),[m,h]=(0,r.useState)(null),[p,g]=(0,r.useState)(null),[j,y]=(0,r.useState)(!1),[b,v]=(0,r.useState)(!1),[f,N]=(0,r.useState)({name:"",description:"",rate:"",taxType:"",country:"",state:"",isActive:!0}),{showToast:k}=(0,c.p)(),w=async()=>{try{let e=await n.QB.getAll();t(e)}catch(e){k(e.message||"Failed to load taxes","error")}finally{o(!1)}},C=()=>{N({name:"",description:"",rate:"",taxType:"",country:"",state:"",isActive:!0})},T=e=>{h(e),N({name:e.name,description:e.description||"",rate:String(e.rate),taxType:e.taxType||"",country:e.country||"",state:e.state||"",isActive:!1!==e.isActive}),u(!0)},A=async()=>{y(!0);try{let e={name:f.name,description:f.description,rate:parseFloat(f.rate),taxType:f.taxType,country:f.country,state:f.state,isActive:f.isActive};m?(await n.QB.update(m.id,e),k("Tax updated successfully","success")):(await n.QB.create(e),k("Tax created successfully","success")),u(!1),w()}catch(e){k(e.message||"Failed to save tax","error")}finally{y(!1)}},S=async()=>{if(p){v(!0);try{await n.QB.delete(p.id),k("Tax deleted successfully","success"),g(null),w()}catch(e){k(e.message||"Failed to delete tax","error")}finally{v(!1)}}};return s?a.jsx(d.Z,{message:"Loading taxes..."}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Taxes"}),(0,a.jsxs)("button",{onClick:()=>{h(null),C(),u(!0)},className:"btn-primary",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Tax"]})]}),a.jsx("div",{className:"table-container",children:(0,a.jsxs)("table",{className:"data-table",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{children:[a.jsx("th",{children:"Name"}),a.jsx("th",{children:"Type"}),a.jsx("th",{children:"Rate %"}),a.jsx("th",{children:"Country"}),a.jsx("th",{children:"State"}),a.jsx("th",{children:"Active"}),a.jsx("th",{children:"Actions"})]})}),(0,a.jsxs)("tbody",{children:[e.map(e=>(0,a.jsxs)("tr",{children:[a.jsx("td",{className:"font-medium text-gray-900",children:e.name}),a.jsx("td",{className:"text-gray-500",children:e.taxType||"-"}),(0,a.jsxs)("td",{className:"font-medium",children:[e.rate,"%"]}),a.jsx("td",{children:e.country||"-"}),a.jsx("td",{children:e.state||"-"}),a.jsx("td",{children:a.jsx("span",{className:!1!==e.isActive?"badge-active":"badge-closed",children:!1!==e.isActive?"Active":"Inactive"})}),a.jsx("td",{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>T(e),className:"btn-secondary btn-sm",children:"Edit"}),a.jsx("button",{onClick:()=>g(e),className:"btn-danger btn-sm",children:"Delete"})]})})]},e.id)),0===e.length&&a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"text-center py-8 text-gray-500",children:"No taxes configured. Add your first tax rule to get started."})})]})]})}),a.jsx(l.Z,{isOpen:x,onClose:()=>u(!1),title:m?"Edit Tax":"New Tax",onSubmit:A,submitLabel:m?"Update":"Create",loading:j,children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"form-label",children:"Tax Name"}),a.jsx("input",{type:"text",required:!0,value:f.name,onChange:e=>N({...f,name:e.target.value}),className:"form-input",placeholder:"e.g. GST 18%"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"form-label",children:"Description"}),a.jsx("textarea",{value:f.description,onChange:e=>N({...f,description:e.target.value}),className:"form-textarea",rows:2,placeholder:"Description (optional)"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"form-label",children:"Rate (%)"}),a.jsx("input",{type:"number",step:"0.01",required:!0,value:f.rate,onChange:e=>N({...f,rate:e.target.value}),className:"form-input",placeholder:"e.g. 18"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"form-label",children:"Tax Type"}),a.jsx("input",{type:"text",value:f.taxType,onChange:e=>N({...f,taxType:e.target.value}),className:"form-input",placeholder:"e.g. GST, VAT, Sales Tax"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"form-label",children:"Country"}),a.jsx("input",{type:"text",value:f.country,onChange:e=>N({...f,country:e.target.value}),className:"form-input",placeholder:"e.g. India, US"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"form-label",children:"State"}),a.jsx("input",{type:"text",value:f.state,onChange:e=>N({...f,state:e.target.value}),className:"form-input",placeholder:"e.g. Karnataka, California"})]})]}),a.jsx("div",{children:(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[a.jsx("input",{type:"checkbox",checked:f.isActive,onChange:e=>N({...f,isActive:e.target.checked}),className:"form-checkbox"}),"Active"]})})]})}),a.jsx(i.Z,{isOpen:!!p,onConfirm:S,onCancel:()=>g(null),title:"Delete Tax",message:`Are you sure you want to delete "${p?.name}"? This action cannot be undone.`,confirmLabel:"Delete",variant:"danger",loading:b})]})}},7698:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(326);function r({isOpen:e,onConfirm:t,onCancel:s,title:r,message:n,confirmLabel:l="Confirm",variant:i="danger",loading:d=!1}){return e?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"fixed inset-0 bg-black/40",onClick:s}),(0,a.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-sm mx-4 p-6",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${"danger"===i?"bg-red-100":"bg-yellow-100"}`,children:a.jsx("svg",{className:`w-5 h-5 ${"danger"===i?"text-red-600":"text-yellow-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[a.jsx("button",{onClick:s,className:"btn-secondary",children:"Cancel"}),a.jsx("button",{onClick:t,disabled:d,className:"danger"===i?"btn-danger":"btn-primary",children:d?"Processing...":l})]})]})]}):null}},3594:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(326);function r({isOpen:e,onClose:t,title:s,children:r,onSubmit:n,submitLabel:l="Save",loading:i=!1,size:d="md"}){return e?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"fixed inset-0 bg-black/40",onClick:t}),(0,a.jsxs)("div",{className:`relative bg-white rounded-lg shadow-xl w-full ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl"}[d]} mx-4 max-h-[90vh] flex flex-col`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"px-6 py-4 overflow-y-auto flex-1",children:r}),n&&(0,a.jsxs)("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:"Cancel"}),a.jsx("button",{type:"button",onClick:n,disabled:i,className:"btn-primary",children:i?"Saving...":l})]})]})]}):null}s(7577)},7846:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`E:\frontend\app\(dashboard)\taxes\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[697,496,315,78],()=>s(7110));module.exports=a})();