(()=>{var e={};e.id=879,e.ids=[879],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2760:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>r.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>i}),a(990),a(8032),a(5866),a(6835);var s=a(3191),l=a(8716),n=a(7922),r=a.n(n),o=a(5231),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);a.d(t,c);let i=["",{children:["(dashboard)",{children:["contacts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,990)),"E:\\frontend\\app\\(dashboard)\\contacts\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,8032)),"E:\\frontend\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,6835)),"E:\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],d=["E:\\frontend\\app\\(dashboard)\\contacts\\page.tsx"],u="/(dashboard)/contacts/page",m={require:a,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/(dashboard)/contacts/page",pathname:"/contacts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},7379:(e,t,a)=>{Promise.resolve().then(a.bind(a,832))},832:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(326),l=a(7577),n=a(6824),r=a(3594),o=a(7698),c=a(2980),i=a(2948),d=a(1113);function u(){let[e,t]=(0,l.useState)([]),[a,u]=(0,l.useState)(!0),[m,x]=(0,l.useState)(!1),[h,p]=(0,l.useState)(null),[b,y]=(0,l.useState)(null),[g,j]=(0,l.useState)(!1),[f,N]=(0,l.useState)(!1),[v,C]=(0,l.useState)(""),[w,k]=(0,l.useState)(""),[P,S]=(0,l.useState)(!0),[I,A]=(0,l.useState)({name:"",displayName:"",contactType:"INDIVIDUAL",email:"",phone:"",mobile:"",website:"",street:"",city:"",state:"",country:"",postalCode:"",companyName:"",taxId:"",isCustomer:!0,isVendor:!1,notes:""}),{showToast:L}=(0,i.p)(),T=(0,n.PR)(),E=T?.role==="ADMIN",D=async()=>{try{let e={};v&&(e.search=v),w&&(e.contactType=w),P&&(e.portalOnly="true");let a=await n.QZ.getAll(e);t(a)}catch(e){L(e.message||"Failed to load contacts","error")}finally{u(!1)}},M=e=>{p(e),A({name:e.name||"",displayName:e.displayName||"",contactType:e.contactType||"INDIVIDUAL",email:e.email||"",phone:e.phone||"",mobile:e.mobile||"",website:e.website||"",street:e.street||"",city:e.city||"",state:e.state||"",country:e.country||"",postalCode:e.postalCode||"",companyName:e.companyName||"",taxId:e.taxId||"",isCustomer:e.isCustomer??!0,isVendor:e.isVendor??!1,notes:e.notes||""}),x(!0)},_=async()=>{if(!I.name){L("Name is required","error");return}j(!0);try{h?(await n.QZ.update(h.id,I),L("Contact updated successfully","success")):(await n.QZ.create(I),L("Contact created successfully","success")),x(!1),D()}catch(e){L(e.message||"Failed to save contact","error")}finally{j(!1)}},U=async()=>{if(b){N(!0);try{await n.QZ.delete(b.id),L("Contact deleted successfully","success"),y(null),D()}catch(e){L(e.message||"Failed to delete contact","error")}finally{N(!1)}}};return a&&0===e.length?s.jsx(c.Z,{message:"Loading contacts..."}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Contacts"}),(0,s.jsxs)("button",{onClick:()=>{p(null),A({name:"",displayName:"",contactType:"INDIVIDUAL",email:"",phone:"",mobile:"",website:"",street:"",city:"",state:"",country:"",postalCode:"",companyName:"",taxId:"",isCustomer:!0,isVendor:!1,notes:""}),x(!0)},className:"btn-primary",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Contact"]})]}),(0,s.jsxs)("div",{className:"flex gap-3 items-center",children:[s.jsx("input",{type:"text",placeholder:"Search by name or email...",value:v,onChange:e=>C(e.target.value),className:"form-input max-w-xs"}),(0,s.jsxs)("select",{value:w,onChange:e=>k(e.target.value),className:"form-select w-auto",children:[s.jsx("option",{value:"",children:"All Types"}),s.jsx("option",{value:"INDIVIDUAL",children:"Individual"}),s.jsx("option",{value:"COMPANY",children:"Company"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:P,onChange:e=>S(e.target.checked),className:"form-checkbox"}),"Portal Users Only"]})]}),s.jsx("div",{className:"table-container",children:(0,s.jsxs)("table",{className:"data-table",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Type"}),s.jsx("th",{children:"Email"}),s.jsx("th",{children:"Phone"}),s.jsx("th",{children:"City"}),s.jsx("th",{children:"Customer"}),s.jsx("th",{children:"Portal User"}),s.jsx("th",{children:"Actions"})]})}),(0,s.jsxs)("tbody",{children:[e.map(e=>(0,s.jsxs)("tr",{children:[s.jsx("td",{className:"font-medium text-gray-900",children:e.name}),s.jsx("td",{children:s.jsx("span",{className:`badge ${"COMPANY"===e.contactType?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:"COMPANY"===e.contactType?"Company":"Individual"})}),s.jsx("td",{children:e.email||"-"}),s.jsx("td",{children:e.phone||"-"}),s.jsx("td",{children:e.city||"-"}),s.jsx("td",{children:e.isCustomer?s.jsx("span",{className:"badge-active",children:"Yes"}):s.jsx("span",{className:"badge-draft",children:"No"})}),s.jsx("td",{children:e.users?.filter(e=>"PORTAL_USER"===e.role).map(e=>s.jsx("span",{className:"inline-block mr-1 px-2 py-0.5 bg-purple-50 text-purple-700 rounded text-xs",children:e.name||e.email},e.id))||"-"}),s.jsx("td",{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>M(e),className:"btn-secondary btn-sm",children:"Edit"}),E&&s.jsx("button",{onClick:()=>y(e),className:"btn-danger btn-sm",children:"Delete"})]})})]},e.id)),0===e.length&&s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"text-center py-8 text-gray-500",children:"No contacts found."})})]})]})}),s.jsx(r.Z,{isOpen:m,onClose:()=>x(!1),title:h?"Edit Contact":"Add Contact",onSubmit:_,submitLabel:h?"Update":"Create",loading:g,size:"lg",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"form-label",children:"Name *"}),s.jsx("input",{type:"text",required:!0,value:I.name,onChange:e=>A({...I,name:e.target.value}),className:"form-input",placeholder:"Contact name"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"form-label",children:"Type"}),(0,s.jsxs)("select",{value:I.contactType,onChange:e=>A({...I,contactType:e.target.value}),className:"form-select",children:[s.jsx("option",{value:"INDIVIDUAL",children:"Individual"}),s.jsx("option",{value:"COMPANY",children:"Company"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"form-label",children:"Email"}),s.jsx("input",{type:"email",value:I.email,onChange:e=>A({...I,email:e.target.value}),className:"form-input",placeholder:"email@example.com"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"form-label",children:"Phone"}),s.jsx(d.Z,{value:I.phone,onChange:e=>A({...I,phone:e}),placeholder:"Phone number"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"form-label",children:"Mobile"}),s.jsx(d.Z,{value:I.mobile,onChange:e=>A({...I,mobile:e}),placeholder:"Mobile number"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"form-label",children:"Website"}),s.jsx("input",{type:"url",value:I.website,onChange:e=>A({...I,website:e.target.value}),className:"form-input",placeholder:"https://..."})]}),"COMPANY"===I.contactType&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"form-label",children:"Company Name"}),s.jsx("input",{type:"text",value:I.companyName,onChange:e=>A({...I,companyName:e.target.value}),className:"form-input",placeholder:"Company name"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"form-label",children:"Tax ID (GST/VAT)"}),s.jsx("input",{type:"text",value:I.taxId,onChange:e=>A({...I,taxId:e.target.value}),className:"form-input",placeholder:"Tax ID"})]})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("hr",{className:"border-gray-200"})}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"form-label",children:"Street"}),s.jsx("input",{type:"text",value:I.street,onChange:e=>A({...I,street:e.target.value}),className:"form-input"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"form-label",children:"City"}),s.jsx("input",{type:"text",value:I.city,onChange:e=>A({...I,city:e.target.value}),className:"form-input"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"form-label",children:"State"}),s.jsx("input",{type:"text",value:I.state,onChange:e=>A({...I,state:e.target.value}),className:"form-input"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"form-label",children:"Country"}),s.jsx("input",{type:"text",value:I.country,onChange:e=>A({...I,country:e.target.value}),className:"form-input"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"form-label",children:"Postal Code"}),s.jsx("input",{type:"text",value:I.postalCode,onChange:e=>A({...I,postalCode:e.target.value}),className:"form-input"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-6 pt-4",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:I.isCustomer,onChange:e=>A({...I,isCustomer:e.target.checked}),className:"form-checkbox"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Customer"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:I.isVendor,onChange:e=>A({...I,isVendor:e.target.checked}),className:"form-checkbox"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Vendor"})]})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"form-label",children:"Notes"}),s.jsx("textarea",{value:I.notes,onChange:e=>A({...I,notes:e.target.value}),className:"form-textarea",rows:2})]})]})}),s.jsx(o.Z,{isOpen:!!b,onConfirm:U,onCancel:()=>y(null),title:"Delete Contact",message:`Are you sure you want to delete "${b?.name}"?`,confirmLabel:"Delete",variant:"danger",loading:f})]})}},7698:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var s=a(326);function l({isOpen:e,onConfirm:t,onCancel:a,title:l,message:n,confirmLabel:r="Confirm",variant:o="danger",loading:c=!1}){return e?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"fixed inset-0 bg-black/40",onClick:a}),(0,s.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-sm mx-4 p-6",children:[(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${"danger"===o?"bg-red-100":"bg-yellow-100"}`,children:s.jsx("svg",{className:`w-5 h-5 ${"danger"===o?"text-red-600":"text-yellow-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx("button",{onClick:a,className:"btn-secondary",children:"Cancel"}),s.jsx("button",{onClick:t,disabled:c,className:"danger"===o?"btn-danger":"btn-primary",children:c?"Processing...":r})]})]})]}):null}},3594:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var s=a(326);function l({isOpen:e,onClose:t,title:a,children:l,onSubmit:n,submitLabel:r="Save",loading:o=!1,size:c="md"}){return e?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"fixed inset-0 bg-black/40",onClick:t}),(0,s.jsxs)("div",{className:`relative bg-white rounded-lg shadow-xl w-full ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl"}[c]} mx-4 max-h-[90vh] flex flex-col`,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"px-6 py-4 overflow-y-auto flex-1",children:l}),n&&(0,s.jsxs)("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:[s.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:"Cancel"}),s.jsx("button",{type:"button",onClick:n,disabled:o,className:"btn-primary",children:o?"Saving...":r})]})]})]}):null}a(7577)},1113:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(326),l=a(7577);let n=[{code:"+91",country:"IN",label:"India"},{code:"+1",country:"US",label:"United States"},{code:"+44",country:"GB",label:"United Kingdom"},{code:"+61",country:"AU",label:"Australia"},{code:"+81",country:"JP",label:"Japan"},{code:"+49",country:"DE",label:"Germany"},{code:"+33",country:"FR",label:"France"},{code:"+86",country:"CN",label:"China"},{code:"+971",country:"AE",label:"UAE"},{code:"+65",country:"SG",label:"Singapore"},{code:"+55",country:"BR",label:"Brazil"},{code:"+7",country:"RU",label:"Russia"},{code:"+82",country:"KR",label:"South Korea"},{code:"+39",country:"IT",label:"Italy"},{code:"+34",country:"ES",label:"Spain"},{code:"+31",country:"NL",label:"Netherlands"},{code:"+46",country:"SE",label:"Sweden"},{code:"+41",country:"CH",label:"Switzerland"},{code:"+62",country:"ID",label:"Indonesia"},{code:"+60",country:"MY",label:"Malaysia"},{code:"+63",country:"PH",label:"Philippines"},{code:"+66",country:"TH",label:"Thailand"},{code:"+90",country:"TR",label:"Turkey"},{code:"+48",country:"PL",label:"Poland"},{code:"+27",country:"ZA",label:"South Africa"},{code:"+234",country:"NG",label:"Nigeria"},{code:"+254",country:"KE",label:"Kenya"},{code:"+92",country:"PK",label:"Pakistan"},{code:"+880",country:"BD",label:"Bangladesh"},{code:"+94",country:"LK",label:"Sri Lanka"}];function r({value:e,onChange:t,placeholder:a="Phone number",className:r="",required:o,disabled:c}){let[i,d]=(0,l.useState)(!1),[u,m]=(0,l.useState)(""),x=(0,l.useRef)(null),h=(()=>{for(let t of n)if(e.startsWith(t.code+" ")||e.startsWith(t.code))return t;return n[0]})(),p=()=>{if(e.startsWith(h.code+" "))return e.slice(h.code.length+1);if(e.startsWith(h.code))return e.slice(h.code.length);for(let t of n)if(e.startsWith(t.code))return e.slice(t.code.length).trimStart();return e},b=e=>{let a=p();t(a?`${e.code} ${a}`:e.code+" "),d(!1),m("")},y=e=>{t(e?`${h.code} ${e}`:"")},g=u?n.filter(e=>e.label.toLowerCase().includes(u.toLowerCase())||e.code.includes(u)||e.country.toLowerCase().includes(u.toLowerCase())):n;return(0,s.jsxs)("div",{className:`flex ${r}`,ref:x,children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>!c&&d(!i),disabled:c,className:"flex items-center gap-1 px-3 py-2.5 border border-r-0 border-gray-200 rounded-l-lg bg-gray-50 text-sm text-gray-700 hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed h-full",children:[s.jsx("span",{className:"font-medium",children:h.code}),s.jsx("svg",{className:`w-3 h-3 text-gray-400 transition-transform ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&(0,s.jsxs)("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-50 overflow-hidden",children:[s.jsx("div",{className:"p-2 border-b border-gray-100",children:s.jsx("input",{type:"text",placeholder:"Search country...",value:u,onChange:e=>m(e.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-200 rounded-md focus:ring-1 focus:ring-blue-500 focus:border-transparent outline-none",autoFocus:!0})}),(0,s.jsxs)("div",{className:"max-h-48 overflow-y-auto",children:[g.map(e=>(0,s.jsxs)("button",{type:"button",onClick:()=>b(e),className:`w-full text-left px-3 py-2 text-sm hover:bg-blue-50 transition-colors flex items-center justify-between ${h.code===e.code?"bg-blue-50 text-blue-700":"text-gray-700"}`,children:[(0,s.jsxs)("span",{children:[e.label," (",e.country,")"]}),s.jsx("span",{className:"text-gray-500 font-mono text-xs",children:e.code})]},e.code+e.country)),0===g.length&&s.jsx("div",{className:"px-3 py-2 text-sm text-gray-400",children:"No results"})]})]})]}),s.jsx("input",{type:"tel",value:p(),onChange:e=>y(e.target.value),placeholder:a,required:o,disabled:c,className:"flex-1 px-4 py-2.5 border border-gray-200 rounded-r-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed"})]})}},990:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(8570).createProxy)(String.raw`E:\frontend\app\(dashboard)\contacts\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[697,496,315,78],()=>a(2760));module.exports=s})();