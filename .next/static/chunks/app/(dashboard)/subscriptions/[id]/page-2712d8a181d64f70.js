(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[998],{4657:function(e,t,s){Promise.resolve().then(s.bind(s,2475))},2475:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var n=s(7437),a=s(2265),r=s(9376),i=s(9116),o=s(3745),c=s(6143),l=s(5838),d=s(4360);function u(){var e,t,s,u,m,h,x;let{id:g}=(0,r.useParams)(),p=(0,r.useRouter)(),{showToast:y}=(0,d.p)(),[b,f]=(0,a.useState)(null),[N,v]=(0,a.useState)([]),[j,S]=(0,a.useState)(!0),[P,O]=(0,a.useState)(!1),[T,L]=(0,a.useState)(null),[w,E]=(0,a.useState)({productId:"",quantity:"1",unitPrice:""}),[D,k]=(0,a.useState)(!1);(0,a.useEffect)(()=>{C()},[g]);let C=async()=>{try{let[e,t]=await Promise.all([i.TV.getOne(g),i.F3.getAll()]);f(e),v(t)}catch(e){y(e.message||"Failed to load subscription","error")}finally{S(!1)}},J=async()=>{if(T){O(!0);try{await i.TV.updateStatus(g,T.status),y("Subscription status updated to ".concat(T.status),"success"),L(null),C()}catch(e){y(e.message||"Failed to update status","error")}finally{O(!1)}}},A=async()=>{O(!0);try{var e,t;let s=await i._g.createOrder(g),n={key:s.key,amount:s.amount,currency:s.currency,name:"SIDAZ",description:"Payment for ".concat(s.subscriptionNumber),order_id:s.orderId,handler:async e=>{try{await i._g.verifyPayment({razorpay_order_id:e.razorpay_order_id,razorpay_payment_id:e.razorpay_payment_id,razorpay_signature:e.razorpay_signature}),y("Payment successful!","success"),C()}catch(e){y(e.message||"Payment verification failed","error")}},prefill:{name:(null===(e=b.customer)||void 0===e?void 0:e.name)||"",email:(null===(t=b.customer)||void 0===t?void 0:t.email)||""},theme:{color:"#1E40AF"}},a=new window.Razorpay(n);a.on("payment.failed",e=>{var t;y("Payment failed: "+((null===(t=e.error)||void 0===t?void 0:t.description)||"Unknown error"),"error")}),a.open()}catch(e){y(e.message||"Failed to initiate payment","error")}finally{O(!1)}},I=async()=>{if(!w.productId||!w.unitPrice){y("Please fill in all line fields","error");return}k(!0);try{await i.TV.addLine(g,{productId:w.productId,quantity:parseInt(w.quantity),unitPrice:parseFloat(w.unitPrice)}),y("Line added successfully","success"),E({productId:"",quantity:"1",unitPrice:""}),C()}catch(e){y(e.message||"Failed to add line","error")}finally{k(!1)}},R=async e=>{try{await i.TV.deleteLine(g,e),y("Line removed","success"),C()}catch(e){y(e.message||"Failed to remove line","error")}};if(j)return(0,n.jsx)(c.Z,{message:"Loading subscription..."});if(!b)return(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)("p",{className:"text-gray-500",children:"Subscription not found."}),(0,n.jsx)("button",{onClick:()=>p.back(),className:"btn-secondary mt-4",children:"Go Back"})]});let U=(()=>{let e=[];switch(b.status){case"DRAFT":e.push({status:"PAY",label:"Pay Now",className:"btn-primary",handler:A});break;case"CONFIRMED":b.paymentLinkExpiry&&new Date(b.paymentLinkExpiry)>new Date&&e.push({status:"PAY",label:"Complete Payment",className:"btn-primary",handler:A});break;case"ACTIVE":e.push({status:"CLOSED",label:"Close Subscription",className:"btn-danger"})}return e})(),F=(null===(e=b.lines)||void 0===e?void 0:e.reduce((e,t)=>e+Number(t.amount||0),0))||0,q=Number((null===(t=b.plan)||void 0===t?void 0:t.price)||0);return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsxs)("button",{onClick:()=>p.back(),className:"btn-secondary btn-sm",children:[(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),(0,n.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:["Subscription ",b.subscriptionNumber]}),(0,n.jsx)(o.Z,{status:b.status})]}),(0,n.jsxs)("div",{className:"card p-6",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Customer"}),(0,n.jsx)("p",{className:"font-medium text-gray-900",children:(null===(s=b.customer)||void 0===s?void 0:s.name)||"-"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Plan"}),(0,n.jsx)("p",{className:"font-medium text-gray-900",children:(null===(u=b.plan)||void 0===u?void 0:u.name)||"-"}),(null===(m=b.plan)||void 0===m?void 0:m.price)&&(0,n.jsxs)("p",{className:"text-xs text-gray-500",children:["₹",Number(b.plan.price).toFixed(2)," / ",null===(h=b.plan.billingPeriod)||void 0===h?void 0:h.toLowerCase()]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Start Date"}),(0,n.jsx)("p",{className:"font-medium text-gray-900",children:new Date(b.startDate).toLocaleDateString()})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Expiration Date"}),(0,n.jsx)("p",{className:"font-medium text-gray-900",children:b.expirationDate?new Date(b.expirationDate).toLocaleDateString():"-"})]})]}),(b.razorpayOrderId||b.razorpayPaymentId)&&(0,n.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Payment Details"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.amountDue&&(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Amount"}),(0,n.jsxs)("p",{className:"font-medium text-gray-900",children:["₹",Number(b.amountDue).toFixed(2)]})]}),b.razorpayPaymentId&&(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Transaction ID"}),(0,n.jsx)("p",{className:"font-medium text-gray-900 font-mono text-sm",children:b.razorpayPaymentId})]}),b.paymentLinkExpiry&&"CONFIRMED"===b.status&&(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Payment Expires"}),(0,n.jsx)("p",{className:"font-medium text-gray-900",children:new Date(b.paymentLinkExpiry).toLocaleString()})]})]})]}),"DRAFT"===b.status&&(0,n.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Total Amount"}),(0,n.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:["₹",(F>0?F:q).toFixed(2)]})]})}),(0,n.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-200 flex items-center gap-3",children:[U.map(e=>(0,n.jsx)("button",{onClick:()=>{e.handler?e.handler():L({status:e.status,label:e.label})},className:e.className,disabled:P,children:P?"Processing...":e.label},e.status)),0===U.length&&"CLOSED"===b.status&&(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"This subscription is closed."})]})]}),(0,n.jsxs)("div",{className:"card p-6",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Subscription Lines"}),(0,n.jsx)("div",{className:"table-container",children:(0,n.jsxs)("table",{className:"data-table",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Product"}),(0,n.jsx)("th",{children:"Quantity"}),(0,n.jsx)("th",{children:"Unit Price"}),(0,n.jsx)("th",{children:"Amount"}),"DRAFT"===b.status&&(0,n.jsx)("th",{children:"Actions"})]})}),(0,n.jsxs)("tbody",{children:[null===(x=b.lines)||void 0===x?void 0:x.map((e,t)=>{var s;return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"font-medium text-gray-900",children:(null===(s=e.product)||void 0===s?void 0:s.name)||"-"}),(0,n.jsx)("td",{children:e.quantity}),(0,n.jsxs)("td",{children:["₹",Number(e.unitPrice).toFixed(2)]}),(0,n.jsxs)("td",{className:"font-medium",children:["₹",Number(e.amount||e.unitPrice*e.quantity).toFixed(2)]}),"DRAFT"===b.status&&(0,n.jsx)("td",{children:(0,n.jsx)("button",{onClick:()=>R(e.id),className:"text-red-500 hover:text-red-700 text-sm",children:"Remove"})})]},e.id||t)}),(!b.lines||0===b.lines.length)&&(0,n.jsx)("tr",{children:(0,n.jsxs)("td",{colSpan:"DRAFT"===b.status?5:4,className:"text-center py-6 text-gray-500",children:["No lines added yet. ","DRAFT"===b.status&&"Add products below."]})})]})]})}),"DRAFT"===b.status&&(0,n.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Add Line"}),(0,n.jsxs)("div",{className:"flex items-end gap-3",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("label",{className:"form-label",children:"Product"}),(0,n.jsxs)("select",{value:w.productId,onChange:e=>{let t=N.find(t=>t.id===e.target.value);E({...w,productId:e.target.value,unitPrice:t?String(t.salesPrice):w.unitPrice})},className:"form-select",children:[(0,n.jsx)("option",{value:"",children:"Select product..."}),N.map(e=>(0,n.jsxs)("option",{value:e.id,children:[e.name," — ","₹",Number(e.salesPrice).toFixed(2)]},e.id))]})]}),(0,n.jsxs)("div",{className:"w-24",children:[(0,n.jsx)("label",{className:"form-label",children:"Qty"}),(0,n.jsx)("input",{type:"number",min:"1",value:w.quantity,onChange:e=>E({...w,quantity:e.target.value}),className:"form-input"})]}),(0,n.jsxs)("div",{className:"w-32",children:[(0,n.jsx)("label",{className:"form-label",children:"Unit Price"}),(0,n.jsx)("input",{type:"number",step:"0.01",value:w.unitPrice,onChange:e=>E({...w,unitPrice:e.target.value}),className:"form-input",placeholder:"0.00"})]}),(0,n.jsx)("button",{onClick:I,disabled:D,className:"btn-primary",children:D?"Adding...":"Add"})]})]})]}),b.invoices&&b.invoices.length>0&&(0,n.jsxs)("div",{className:"card p-6",children:[(0,n.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Invoices"})}),(0,n.jsx)("div",{className:"table-container",children:(0,n.jsxs)("table",{className:"data-table",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Invoice #"}),(0,n.jsx)("th",{children:"Date"}),(0,n.jsx)("th",{children:"Total"}),(0,n.jsx)("th",{children:"Paid"}),(0,n.jsx)("th",{children:"Status"}),(0,n.jsx)("th",{children:"Actions"})]})}),(0,n.jsx)("tbody",{children:b.invoices.map(e=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"font-mono text-sm font-medium text-gray-900",children:e.invoiceNumber}),(0,n.jsx)("td",{children:new Date(e.invoiceDate).toLocaleDateString()}),(0,n.jsxs)("td",{className:"font-medium",children:["₹",Number(e.totalAmount).toLocaleString("en-IN")]}),(0,n.jsxs)("td",{className:"text-emerald-600",children:["₹",Number(e.paidAmount).toLocaleString("en-IN")]}),(0,n.jsx)("td",{children:(0,n.jsx)(o.Z,{status:e.status})}),(0,n.jsx)("td",{children:(0,n.jsx)("button",{onClick:()=>p.push("/invoices/".concat(e.id)),className:"text-primary hover:underline text-sm",children:"View"})})]},e.id))})]})})]}),(0,n.jsx)(l.Z,{isOpen:!!T,onConfirm:J,onCancel:()=>L(null),title:"Change Status",message:'Are you sure you want to change the subscription status to "'.concat(null==T?void 0:T.status,'"?'),confirmLabel:(null==T?void 0:T.label)||"Confirm",variant:(null==T?void 0:T.status)==="CLOSED"?"danger":"warning",loading:P})]})}},5838:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var n=s(7437);function a(e){let{isOpen:t,onConfirm:s,onCancel:a,title:r,message:i,confirmLabel:o="Confirm",variant:c="danger",loading:l=!1}=e;return t?(0,n.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,n.jsx)("div",{className:"fixed inset-0 bg-black/40",onClick:a}),(0,n.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-sm mx-4 p-6",children:[(0,n.jsxs)("div",{className:"flex items-start gap-4",children:[(0,n.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ".concat("danger"===c?"bg-red-100":"bg-yellow-100"),children:(0,n.jsx)("svg",{className:"w-5 h-5 ".concat("danger"===c?"text-red-600":"text-yellow-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:r}),(0,n.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:i})]})]}),(0,n.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,n.jsx)("button",{onClick:a,className:"btn-secondary",children:"Cancel"}),(0,n.jsx)("button",{onClick:s,disabled:l,className:"danger"===c?"btn-danger":"btn-primary",children:l?"Processing...":o})]})]})]}):null}},6143:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var n=s(7437);function a(e){let{message:t="Loading..."}=e;return(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,n.jsx)("div",{className:"w-8 h-8 border-3 border-primary/30 border-t-primary rounded-full animate-spin"}),(0,n.jsx)("p",{className:"mt-3 text-sm text-gray-500",children:t})]})}},3745:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var n=s(7437);let a={DRAFT:"badge-draft",QUOTATION:"badge-quotation",CONFIRMED:"badge-confirmed",ACTIVE:"badge-active",PAID:"badge-paid",CLOSED:"badge-closed",CANCELLED:"badge-cancelled"};function r(e){let{status:t}=e,s=a[t]||"badge-draft";return(0,n.jsx)("span",{className:s,children:t.replace("_"," ")})}},4360:function(e,t,s){"use strict";s.d(t,{ToastProvider:function(){return c},p:function(){return i}});var n=s(7437),a=s(2265);let r=(0,a.createContext)({showToast:()=>{}}),i=()=>(0,a.useContext)(r),o=0;function c(e){let{children:t}=e,[s,i]=(0,a.useState)([]),c=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",s=++o;i(n=>[...n,{id:s,message:e,type:t}]),setTimeout(()=>{i(e=>e.filter(e=>e.id!==s))},4e3)},[]),l=e=>{i(t=>t.filter(t=>t.id!==e))},d={success:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",error:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z",warning:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z",info:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},u={success:"bg-emerald-50 border-emerald-200 text-emerald-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"},m={success:"text-emerald-500",error:"text-red-500",warning:"text-yellow-500",info:"text-blue-500"};return(0,n.jsxs)(r.Provider,{value:{showToast:c},children:[t,(0,n.jsx)("div",{className:"fixed top-4 right-4 z-[100] flex flex-col gap-2 max-w-sm",children:s.map(e=>(0,n.jsxs)("div",{className:"".concat(u[e.type]," border rounded-lg p-3 shadow-lg flex items-start gap-3 animate-[slideIn_0.3s_ease-out]"),children:[(0,n.jsx)("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5 ".concat(m[e.type]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:d[e.type]})}),(0,n.jsx)("p",{className:"text-sm flex-1",children:e.message}),(0,n.jsx)("button",{onClick:()=>l(e.id),className:"text-gray-400 hover:text-gray-600",children:(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},e.id))})]})}},9116:function(e,t,s){"use strict";s.d(t,{Co:function(){return u},F3:function(){return d},JG:function(){return P},PR:function(){return i},QB:function(){return g},QZ:function(){return v},TL:function(){return p},TV:function(){return m},_g:function(){return N},av:function(){return o},ax:function(){return f},g6:function(){return h},gy:function(){return r},h3:function(){return b},iV:function(){return x},kv:function(){return l},o4:function(){return a},rW:function(){return y},tQ:function(){return S},xf:function(){return j}});let n=()=>localStorage.getItem("token"),a=e=>{localStorage.setItem("token",e)},r=()=>{localStorage.removeItem("token"),localStorage.removeItem("user")},i=()=>{{let e=localStorage.getItem("user");return e?JSON.parse(e):null}},o=e=>{localStorage.setItem("user",JSON.stringify(e))},c=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=n(),a={"Content-Type":"application/json",...s&&{Authorization:"Bearer ".concat(s)},...t.headers},r=await fetch("".concat("http://localhost:5001/api").concat(e),{...t,headers:a});if(!r.ok)throw Error((await r.json().catch(()=>({error:"Request failed"}))).error||"Request failed");return r.json()},l={signup:e=>c("/auth/signup",{method:"POST",body:JSON.stringify(e)}),login:e=>c("/auth/login",{method:"POST",body:JSON.stringify(e)}),requestPasswordReset:e=>c("/auth/reset-password-request",{method:"POST",body:JSON.stringify({email:e})}),resetPassword:(e,t)=>c("/auth/reset-password",{method:"POST",body:JSON.stringify({token:e,newPassword:t})}),getCurrentUser:()=>c("/auth/me")},d={getAll:()=>c("/products"),getOne:e=>c("/products/".concat(e)),create:e=>c("/products",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>c("/products/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>c("/products/".concat(e),{method:"DELETE"}),addVariant:(e,t)=>c("/products/".concat(e,"/variants"),{method:"POST",body:JSON.stringify(t)}),getVariants:e=>c("/products/".concat(e,"/variants")),updateVariant:(e,t,s)=>c("/products/".concat(e,"/variants/").concat(t),{method:"PUT",body:JSON.stringify(s)}),deleteVariant:(e,t)=>c("/products/".concat(e,"/variants/").concat(t),{method:"DELETE"}),getAttributeLines:e=>c("/products/".concat(e,"/attributes")),addAttributeLine:(e,t)=>c("/products/".concat(e,"/attributes"),{method:"POST",body:JSON.stringify(t)}),deleteAttributeLine:(e,t)=>c("/products/".concat(e,"/attributes/").concat(t),{method:"DELETE"})},u={getAll:()=>c("/plans"),getOne:e=>c("/plans/".concat(e)),create:e=>c("/plans",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>c("/plans/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>c("/plans/".concat(e),{method:"DELETE"})},m={getAll:()=>c("/subscriptions"),getOne:e=>c("/subscriptions/".concat(e)),create:e=>c("/subscriptions",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>c("/subscriptions/".concat(e),{method:"PUT",body:JSON.stringify(t)}),updateStatus:(e,t)=>c("/subscriptions/".concat(e,"/status"),{method:"PUT",body:JSON.stringify({status:t})}),addLine:(e,t)=>c("/subscriptions/".concat(e,"/lines"),{method:"POST",body:JSON.stringify(t)}),delete:e=>c("/subscriptions/".concat(e),{method:"DELETE"}),deleteLine:(e,t)=>c("/subscriptions/".concat(e,"/lines/").concat(t),{method:"DELETE"}),renew:e=>c("/subscriptions/".concat(e,"/renew"),{method:"POST"}),upsell:(e,t)=>c("/subscriptions/".concat(e,"/upsell"),{method:"POST",body:JSON.stringify({additionalLines:t})}),getHistory:e=>c("/subscriptions/".concat(e,"/history"))},h={getAll:e=>{let t=e?"?"+new URLSearchParams(Object.entries(e).filter(e=>{let[,t]=e;return t})).toString():"";return c("/invoices".concat(t))},getOne:e=>c("/invoices/".concat(e)),generate:(e,t)=>c("/invoices/generate/".concat(e),{method:"POST",body:t?JSON.stringify(t):void 0}),update:(e,t)=>c("/invoices/".concat(e),{method:"PUT",body:JSON.stringify(t)}),confirm:e=>c("/invoices/".concat(e,"/confirm"),{method:"PUT"}),cancel:e=>c("/invoices/".concat(e,"/cancel"),{method:"PUT"}),addLine:(e,t)=>c("/invoices/".concat(e,"/lines"),{method:"POST",body:JSON.stringify(t)}),deleteLine:(e,t)=>c("/invoices/".concat(e,"/lines/").concat(t),{method:"DELETE"})},x={getAll:()=>c("/payments"),getOne:e=>c("/payments/".concat(e)),create:e=>c("/payments",{method:"POST",body:JSON.stringify(e)})},g={getAll:()=>c("/taxes"),getOne:e=>c("/taxes/".concat(e)),create:e=>c("/taxes",{method:"POST",body:JSON.stringify(e)}),suggest:e=>c("/taxes/suggest",{method:"POST",body:JSON.stringify(e)}),calculate:e=>c("/taxes/calculate",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>c("/taxes/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>c("/taxes/".concat(e),{method:"DELETE"})},p={getAll:()=>c("/discounts"),getOne:e=>c("/discounts/".concat(e)),create:e=>c("/discounts",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>c("/discounts/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>c("/discounts/".concat(e),{method:"DELETE"})},y={getAll:()=>c("/quotations"),getOne:e=>c("/quotations/".concat(e)),create:e=>c("/quotations",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>c("/quotations/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>c("/quotations/".concat(e),{method:"DELETE"}),addLine:(e,t)=>c("/quotations/".concat(e,"/lines"),{method:"POST",body:JSON.stringify(t)}),updateLine:(e,t,s)=>c("/quotations/".concat(e,"/lines/").concat(t),{method:"PUT",body:JSON.stringify(s)}),deleteLine:(e,t)=>c("/quotations/".concat(e,"/lines/").concat(t),{method:"DELETE"}),createSubscription:(e,t)=>c("/quotations/".concat(e,"/create-subscription"),{method:"POST",body:JSON.stringify(t)})},b={getAll:e=>{let t=e?"?"+new URLSearchParams(Object.entries(e).filter(e=>{let[,t]=e;return t})).toString():"";return c("/users".concat(t))},getOne:e=>c("/users/".concat(e)),createInternal:e=>c("/users/internal",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>c("/users/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>c("/users/".concat(e),{method:"DELETE"}),changeRole:(e,t)=>c("/users/".concat(e,"/role"),{method:"PUT",body:JSON.stringify({role:t})})},f={getDashboard:()=>c("/reports/dashboard"),getSubscriptions:()=>c("/reports/subscriptions"),getRevenue:()=>c("/reports/revenue"),getPayments:()=>c("/reports/payments"),getOverdueInvoices:()=>c("/reports/overdue-invoices")},N={createOrder:e=>c("/razorpay/create-order",{method:"POST",body:JSON.stringify({subscriptionId:e})}),verifyPayment:e=>c("/razorpay/verify-payment",{method:"POST",body:JSON.stringify(e)})},v={getAll:e=>{let t=e?"?"+new URLSearchParams(Object.entries(e).filter(e=>{let[,t]=e;return void 0!==t})).toString():"";return c("/contacts".concat(t))},getOne:e=>c("/contacts/".concat(e)),create:e=>c("/contacts",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>c("/contacts/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>c("/contacts/".concat(e),{method:"DELETE"}),getChildren:e=>c("/contacts/".concat(e,"/children"))},j={getAll:()=>c("/attributes"),getOne:e=>c("/attributes/".concat(e)),create:e=>c("/attributes",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>c("/attributes/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>c("/attributes/".concat(e),{method:"DELETE"}),addValue:(e,t)=>c("/attributes/".concat(e,"/values"),{method:"POST",body:JSON.stringify(t)}),updateValue:(e,t,s)=>c("/attributes/".concat(e,"/values/").concat(t),{method:"PUT",body:JSON.stringify(s)}),deleteValue:(e,t)=>c("/attributes/".concat(e,"/values/").concat(t),{method:"DELETE"})},S={generateInvoice:e=>c("/pdf/invoice/".concat(e),{method:"POST"}),generateQuotation:e=>c("/pdf/quotation/".concat(e),{method:"POST"})},P={getDashboard:()=>c("/portal/dashboard"),getCatalog:e=>{let t=e?"?"+new URLSearchParams(Object.entries(e).filter(e=>{let[,t]=e;return t})).toString():"";return c("/portal/catalog".concat(t))},getSubscriptions:()=>c("/portal/subscriptions"),getSubscription:e=>c("/portal/subscriptions/".concat(e)),getInvoices:()=>c("/portal/invoices"),getInvoice:e=>c("/portal/invoices/".concat(e)),getPayments:()=>c("/portal/payments"),getProfile:()=>c("/portal/profile"),updateProfile:e=>c("/portal/profile",{method:"PUT",body:JSON.stringify(e)}),subscribe:e=>c("/portal/subscribe",{method:"POST",body:JSON.stringify({planId:e})})}},9376:function(e,t,s){"use strict";var n=s(5475);s.o(n,"useParams")&&s.d(t,{useParams:function(){return n.useParams}}),s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}}),s.o(n,"useSearchParams")&&s.d(t,{useSearchParams:function(){return n.useSearchParams}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=4657)}),_N_E=e.O()}]);